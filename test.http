### Test POST - Successful Application Submission
POST http://localhost:3001/api/applyadmission
Content-Type: application/json

{
  "firstName": "John",
  "lastName": "Doe",
  "gender": "Male",
  "dateOfBirth": "2008-05-15",
  "nationality": "Kenyan",
  "county": "Nairobi",
  "constituency": "Westlands",
  "ward": "Parklands",
  "email": "john.doe@example.com",
  "phone": "0712345678",
  "postalAddress": "P.O Box 12345-00100, Nairobi",
  "previousSchool": "Greenwood Academy",
  "previousClass": "Grade 8",
  "preferredStream": "Sciences",
  "kcpeYear": "2023",
  "kcpeMarks": "380"
}

### Test POST - Application with Optional Fields
POST http://localhost:3001/api/applyadmission
Content-Type: application/json

{
  "firstName": "Jane",
  "lastName": "Smith",
  "gender": "Female",
  "dateOfBirth": "2009-03-22",
  "nationality": "Kenyan",
  "county": "Mombasa",
  "constituency": "Mvita",
  "ward": "Central",
  "email": "jane.smith@example.com",
  "phone": "0119876543",
  "postalAddress": "P.O Box 54321, Mombasa",
  "previousSchool": "Mombasa Primary School",
  "previousClass": "Class 8",
  "preferredStream": "Arts"
}

### Test POST - Missing Required Field (should fail)
POST http://localhost:3001/api/applyadmission
Content-Type: application/json

{
  "firstName": "Test",
  "lastName": "User",
  "gender": "Male",
  "dateOfBirth": "2008-05-15",
  "nationality": "Kenyan",
  "county": "Nairobi",
  "constituency": "Westlands",
  "ward": "Parklands",
  // Missing email
  "phone": "0712345678",
  "postalAddress": "P.O Box 12345",
  "previousSchool": "Test School",
  "previousClass": "Grade 8",
  "preferredStream": "Sciences"
}

### Test POST - Invalid Email Format (should fail)
POST http://localhost:3001/api/applyadmission
Content-Type: application/json

{
  "firstName": "Test",
  "lastName": "User",
  "gender": "Male",
  "dateOfBirth": "2008-05-15",
  "nationality": "Kenyan",
  "county": "Nairobi",
  "constituency": "Westlands",
  "ward": "Parklands",
  "email": "invalid-email",
  "phone": "0712345678",
  "postalAddress": "P.O Box 12345",
  "previousSchool": "Test School",
  "previousClass": "Grade 8",
  "preferredStream": "Sciences"
}

### Test POST - Invalid Phone Format (should fail)
POST http://localhost:3001/api/applyadmission
Content-Type: application/json

{
  "firstName": "Test",
  "lastName": "User",
  "gender": "Male",
  "dateOfBirth": "2008-05-15",
  "nationality": "Kenyan",
  "county": "Nairobi",
  "constituency": "Westlands",
  "ward": "Parklands",
  "email": "test@example.com",
  "phone": "1234567890", // Invalid format
  "postalAddress": "P.O Box 12345",
  "previousSchool": "Test School",
  "previousClass": "Grade 8",
  "preferredStream": "Sciences"
}

### Test POST - Duplicate Email (should fail)
GET http://localhost:3001/api/applyadmission
Content-Type: application/json

{
  "firstName": "Another",
  "lastName": "User",
  "gender": "Male",
  "dateOfBirth": "2008-07-10",
  "nationality": "Kenyan",
  "county": "Nairobi",
  "constituency": "Westlands",
  "ward": "Parklands",
  "email": "john.doe@example.com", // Duplicate email
  "phone": "0723456789",
  "postalAddress": "P.O Box 67890",
  "previousSchool": "Different School",
  "previousClass": "Grade 8",
  "preferredStream": "Sciences"
}

### Test GET - Find by Application Number (replace with actual number)
GET http://localhost:3000/api/admissions/apply?applicationNumber=KHS/2024/ABCD1234

### Test GET - Find by Email
GET http://localhost:3000/api/admissions/apply?email=jane.smith@example.com

### Test GET - Missing Parameters (should fail)
GET http://localhost:3000/api/admissions/apply

### Test GET - Application Not Found (should fail)
GET http://localhost:3000/api/admissions/apply?applicationNumber=KHS/2024/NOTFOUND

### Test GET - Find by Email Not Found (should fail)
GET http://localhost:3000/api/admissions/apply?email=notfound@example.com

### Test GET - Valid Application Status Check (replace with actual email)
GET http://localhost:3000/api/admissions/apply?email=john.doe@example.com

### Test with different phone formats (should work)
GET http://localhost:3001/api/applyadmission
Content-Type: application/json

{
  "firstName": "Michael",
  "lastName": "Johnson",
  "gender": "Male",
  "dateOfBirth": "2008-11-30",
  "nationality": "Kenyan",
  "county": "Kisumu",
  "constituency": "Kisumu Central",
  "ward": "Central",
  "email": "michael.j@example.com",
  "phone": "0798765432", // Alternative valid format
  "postalAddress": "P.O Box 2468, Kisumu",
  "previousSchool": "Kisumu Academy",
  "previousClass": "Std 8",
  "preferredStream": "Technical"
}


### 1. Test Successful Application Submission
# POST /api/admission -> Remember to adjust the path if your API is at a different location (e.g., /api/admission/apply).
# Based on the previous response, the path is /api/admission.

POST http://localhost:3001/api/applyadmission
Content-Type: application/json

{
  "firstName": "Samuel",
  "middleName": "Kariuki",
  "lastName": "Mbugua",
  "gender": "MALE",
  "dateOfBirth": "2009-05-15",
  "nationality": "Kenyan",
  "county": "Nyeri",
  "constituency": "Kieni",
  "ward": "Mweiga",
  "village": "Muthaiga",
  
  "email": "parent.samuel@testingdomain.com",  
  "phone": "0722111222", 
  "alternativePhone": "0733444555",
  "postalAddress": "P.O. Box 101-10100 Nyeri",
  "postalCode": "10100",
  
  "fatherName": "John Mbugua",
  "fatherPhone": "0722000111",
  "fatherEmail": "john.mbugua@parent.com",
  "fatherOccupation": "Farmer",
  "motherName": "Jane Mbugua",
  "motherPhone": "0722555666",
  "motherEmail": "jane.mbugua@parent.com",
  "motherOccupation": "Teacher",
  "guardianName": "",
  "guardianPhone": "",
  "guardianEmail": "",
  "guardianOccupation": "",
  
  "previousSchool": "Greenacres Primary School",
  "previousClass": "Class 8",
  "kcpeYear": 2024,
  "kcpeIndex": "43210987654",
  "kcpeMarks": 412,
  "meanGrade": "A-",
  
  "preferredStream": "SCIENCE",
  
  "medicalCondition": "None",
  "allergies": "Peanuts",
  "bloodGroup": "O+",
  
  "sportsInterests": "Basketball, Soccer",
  "clubsInterests": "Debate Club, Wildlife Club",
  "talents": "Public Speaking"
}

### 2. Test Invalid Submission (Missing required field: firstName)
# This should return a 400 Bad Request
POST http://localhost:3000/api/admission
Content-Type: application/json

{
  "middleName": "Kamau",
  "lastName": "Ochieng",
  "gender": "MALE",
  "dateOfBirth": "2010-01-20",
  "nationality": "Kenyan",
  "county": "Kisumu",
  "constituency": "Kisumu Central",
  "ward": "Kondele",
  "village": "Ahero",
  "email": "test.missingfield@test.com",  
  "phone": "0711999888",
  "postalAddress": "P.O. Box 55-40100 Kisumu",
  "preferredStream": "ARTS",
  "previousSchool": "Lake View Academy",
  "previousClass": "Class 8"
}

### 3. Test Invalid Submission (Invalid Phone Format)
# This should return a 400 Bad Request due to regex validation
POST http://localhost:3000/api/admission
Content-Type: application/json

{
  "firstName": "Lilian",
  "lastName": "Akinyi",
  "gender": "FEMALE",
  "dateOfBirth": "2009-08-01",
  "nationality": "Kenyan",
  "county": "Mombasa",
  "constituency": "Mvita",
  "ward": "Mji wa Kale",
  "village": "Mwembe Tayari",
  "email": "test.invalidphone@test.com",  
  "phone": "12345",  
  "postalAddress": "P.O. Box 789-80100 Mombasa",
  "preferredStream": "BUSINESS",
  "previousSchool": "Coast Primary",
  "previousClass": "Class 8"
}

### 4. Test GET Application by Application Number
# Replace APPLICATION_NUMBER with an actual application number obtained from a previous successful submission
GET http://localhost:3001/api/applyadmission?applications